# ===========================================
# QI Research Pipeline Environment Variables
# ===========================================
# Copy this file to .env and update with your values
# DO NOT commit .env to version control

# Node Environment
NODE_ENV=development
# External port for API server (7401)
# For development with docker-compose.dev.yml, use ports 7400-7415 to avoid conflicts with other containers
# Internal Docker port remains 3000 inside the container
PORT=7401

# ===========================================
# Docker Configuration
# ===========================================
TIMEZONE=Australia/Brisbane

# ===========================================
# N8N Configuration
# ===========================================
N8N_HOST=0.0.0.0
# External port for n8n web interface (7400)
# Internal Docker port remains 5678 inside the container
N8N_PORT=7400
N8N_PROTOCOL=https
N8N_API_KEY=your_n8n_api_key_here
WEBHOOK_URL=https://qi-pipeline.metronorth.health.qld.gov.au

# n8n Security (generate with: openssl rand -hex 32)
N8N_ENCRYPTION_KEY=your_encryption_key_here
N8N_JWT_SECRET=your_n8n_jwt_secret_here

# Legacy settings (for non-Docker development, using external port 7400)
N8N_WEBHOOK_URL=http://localhost:7400/webhook
N8N_WORKFLOW_ID=your_workflow_id_here

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
POSTGRES_DB=qi_pipeline
POSTGRES_USER=qi_pipeline
POSTGRES_PASSWORD=your_database_password_here

# Legacy settings (for non-Docker development, using external port 7402)
DB_HOST=localhost
DB_PORT=7402
DB_NAME=qi_research_pipeline
DB_USER=postgres
DB_PASSWORD=your_database_password_here
DB_SSL=false
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# ===========================================
# LLM API Configuration (Anthropic Claude)
# ===========================================
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7

# Optional: OpenAI fallback
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo

# ===========================================
# SMTP Configuration (Email)
# ===========================================
SMTP_HOST=smtp.health.qld.gov.au
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_username_here
SMTP_PASSWORD=your_smtp_password_here
SMTP_FROM_NAME=QI Research Pipeline
SMTP_FROM_EMAIL=noreply@example.com
SMTP_SENDER=qi-pipeline@metronorth.health.qld.gov.au

# Email Recipients (comma-separated for multiple)
NOTIFICATION_EMAILS=admin@example.com

# ===========================================
# S3 Configuration (Object Storage)
# ===========================================
S3_ENDPOINT=https://s3.metronorth.health.qld.gov.au
S3_REGION=ap-southeast-2
S3_BUCKET=qi-pipeline-documents
S3_ACCESS_KEY=your_s3_access_key_here
S3_SECRET_KEY=your_s3_secret_key_here
S3_USE_PATH_STYLE=false

# Optional: MinIO for local development
# S3_ENDPOINT=http://localhost:9000
# S3_USE_PATH_STYLE=true

# ===========================================
# Application Settings
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json

# Session and Security
SESSION_SECRET=your_session_secret_here_min_32_chars
JWT_SECRET=your_jwt_secret_here_min_32_chars
JWT_EXPIRY=24h

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# Feature Flags
# ===========================================
ENABLE_DOCUMENT_GENERATION=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_S3_STORAGE=true
ENABLE_METRICS=false
